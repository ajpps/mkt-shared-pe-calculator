<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shared Marketing Campaign Cost Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A light, neutral gray */
        }
        /* Custom slider track */
        input[type=range]::-webkit-slider-runnable-track {
            background: #e2e8f0;
        }
        input[type=range]::-moz-range-track {
            background: #e2e8f0;
        }
        /* Custom slider thumb */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4f46e5; /* A neutral, accessible blue */
            cursor: pointer;
            margin-top: -6px;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4f46e5;
            cursor: pointer;
        }
        
        /* CORRECTIVE CSS: Force number input arrows (spinners) to be visible */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: auto;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }

        /* Color definitions for reuse */
        .care-blue { color: #00286E; }
        .dark-teal { color: #007B8B; }
        .pink-pop { color: #FF0089; }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div class="max-w-6xl mx-auto">
        <header class="text-center mb-6">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-[#00286E]">Shared Marketing Campaign Cost Calculator</h1>
            <p class="mt-2 text-base text-gray-600 max-w-3xl mx-auto">This tool helps our affiliates estimate the costs and contributions for a 6-month shared marketing campaign.</p>
            <p class="text-xs text-gray-500 mt-4 max-w-3xl mx-auto">Disclaimer: All costs below are rough estimates and not indicative of how much your affiliate may need to pay to participate in this campaign.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Left Column: Inputs -->
            <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-gray-200 space-y-6">
                <div>
                    <h2 class="text-2xl font-bold text-[#007B8B]">Services to Promote</h2>
                    <p class="text-sm text-gray-500 mt-2">Please select the number of service lines you would like to promote on the platforms below.</p>
                </div>
                
                <!-- Required Platforms -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800">Required Platforms</h3>
                    <p class="text-xs text-gray-500 mt-1">Please select the number of service lines you want to advertise on Meta and Google. (Minimum of 1)</p>
                    <div class="grid grid-cols-1 gap-4 mt-3">
                        <div>
                            <label for="meta-services" class="block text-sm font-medium text-gray-700">Meta</label>
                            <input type="number" id="meta-services" min="1" value="1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">$8,000 minimum spend/month/service</p>
                        </div>
                        <div>
                            <label for="google-services" class="block text-sm font-medium text-gray-700">Google</label>
                            <input type="number" id="google-services" min="1" value="1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">$5,000 minimum spend/month/service</p>
                        </div>
                    </div>
                </div>

                <!-- Add-On Platforms -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800">Add-On Platforms</h3>
                    <p class="text-xs text-gray-500 mt-1">Please select the number of service lines you want to advertise on the following platforms.</p>
                     <p class="text-xs text-gray-500 mt-1">The following platforms can be added to a campaign that includes at least one of the required platforms above.</p>
                    <div class="grid grid-cols-1 gap-4 mt-3">
                         <div>
                            <label for="tiktok-services" class="block text-sm font-medium text-gray-700">TikTok</label>
                            <input type="number" id="tiktok-services" min="0" value="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">$10,000 minimum spend/month/service. Note: Services promoted on TikTok must also be promoted on Meta.</p>
                        </div>
                        <div>
                            <label for="spotify-services" class="block text-sm font-medium text-gray-700">Spotify</label>
                            <input type="number" id="spotify-services" min="0" value="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">$10,000 minimum spend/month/service</p>
                        </div>
                        <div>
                             <label for="youtube-services" class="block text-sm font-medium text-gray-700">YouTube Connected TV</label>
                            <input type="number" id="youtube-services" min="0" max="1" value="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">$10,000 minimum spend per month. Note: Only one 30s "Care for All" video is available for this platform.</p>
                        </div>
                    </div>
                </div>

                <!-- Media Spend Slider -->
                <div class="space-y-3 pt-4 border-t">
                    <label for="media-spend" class="block text-lg font-semibold text-gray-800">Total Monthly Media Spend</label>
                    <p class="text-xs text-gray-500 mt-1">If you would like to spend more than the minimum, please adjust your spend using the slider below.</p>
                    <div class="flex items-center gap-4">
                        <input type="range" id="media-spend-slider" min="0" max="500000" value="0" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">$</span>
                            <input type="number" id="media-spend-input" min="0" value="0" class="pl-7 block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        </div>
                    </div>
                    <p class="text-xs text-gray-500">Minimum spend based on selections: <strong id="min-spend">$0</strong></p>
                </div>
                 <!-- Customizations Checkbox -->
                <div class="flex items-start pt-4 border-t">
                    <div class="flex h-5 items-center">
                         <input id="customizations" name="customizations" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                    </div>
                    <div class="ml-3 text-sm">
                        <label for="customizations" class="font-medium text-gray-700">Add-On Creative Customizations</label>
                        <p class="text-xs text-gray-500">$225/hr at affiliate expense (i.e. custom images or copy)</p>
                    </div>
                </div>
            </div>

            <!-- Right Column: Breakdown -->
            <div class="bg-[#E0F7FA] p-6 sm:p-8 rounded-2xl shadow-lg border border-gray-200">
                <h2 class="text-2xl font-bold text-[#00286E] mb-6 text-center">Estimated Costs for 6-Month Campaign</h2>

                <div class="space-y-4 mb-8 text-center">
                    <div>
                        <p class="text-sm text-gray-600">Total 6-Month Media Spend</p>
                        <p id="total-media-spend" class="text-2xl font-bold text-gray-800">$0</p>
                    </div>
                     <!-- Other totals are calculated in JS but not displayed here per user request -->
                </div>

                <div class="space-y-6">
                    <!-- Affiliate Cost Breakdown -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-bold text-[#007B8B] mb-4">Affiliate's Estimated 6-Month Costs</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between"><span class="text-gray-600">Affiliate's Media Spend Portion</span><strong id="affiliate-media-spend" class="font-semibold">$0</strong></div>
                            <div class="flex justify-between"><span class="text-gray-600">Affiliate's Agency Fee Portion</span><strong id="affiliate-agency-fee" class="font-semibold">$0</strong></div>
                             <div class="flex justify-between"><span class="text-gray-600">Creative Customization Fees</span><strong id="customization-fees" class="font-semibold">$0</strong></div>
                            <hr class="my-2">
                            <div class="flex justify-between text-base"><span class="font-bold text-gray-800">Total Affiliate Cost</span><strong id="total-affiliate-cost" class="font-bold text-gray-900">$0</strong></div>
                        </div>
                    </div>
                    <!-- Stronger's Contribution -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-bold text-[#00286E] mb-4">Stronger's 6-Month Contribution</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between"><span class="text-gray-600">Media Spend Covered</span><strong id="stronger-media-spend" class="font-semibold">$0</strong></div>
                            <div class="flex justify-between"><span class="text-gray-600">Ad Agency Fee Covered</span><strong id="stronger-agency-fee" class="font-semibold">$0</strong></div>
                             <div class="flex justify-between"><span class="text-gray-600">Creative Production Covered</span><strong id="creative-production-covered" class="font-semibold">$0</strong></div>
                            <hr class="my-2">
                            <div class="flex justify-between text-base"><span class="font-bold text-gray-800">Total Direct Contribution</span><strong id="total-stronger-contribution" class="font-bold text-gray-900">$0</strong></div>
                        </div>
                    </div>
                </div>
                 <!-- Savings Summary -->
                <div class="mt-8 bg-white p-6 rounded-lg text-center shadow-md">
                    <h3 class="text-2xl font-bold text-[#00286E]">Affiliate's Total Estimated 6-Month Savings</h3>
                    <p id="total-savings" class="text-4xl font-extrabold text-[#FF0089] mt-2">$0</p>
                    <p class="text-sm text-[#00286E] mt-1">Savings on media spend and agency fees!</p>
                </div>

            </div>
        </div>
    </div>

    <script>
        const metaServicesInput = document.getElementById('meta-services');
        const googleServicesInput = document.getElementById('google-services');
        const tiktokServicesInput = document.getElementById('tiktok-services');
        const spotifyServicesInput = document.getElementById('spotify-services');
        const youtubeServicesInput = document.getElementById('youtube-services');
        
        const mediaSpendSlider = document.getElementById('media-spend-slider');
        const mediaSpendInput = document.getElementById('media-spend-input');
        const minSpendEl = document.getElementById('min-spend');

        const customizationsCheckbox = document.getElementById('customizations');

        const inputs = [
            metaServicesInput, googleServicesInput, tiktokServicesInput, 
            spotifyServicesInput, youtubeServicesInput, mediaSpendSlider, 
            mediaSpendInput, customizationsCheckbox
        ];

        function formatCurrency(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(value);
        }

        function calculateCreativeCosts() {
            const metaServices = parseInt(metaServicesInput.value) || 0;
            const googleServices = parseInt(googleServicesInput.value) || 0;
            
            let metaCreativeCost = 0;
            if (metaServices > 0) {
                metaCreativeCost = 5000 + (Math.max(0, metaServices - 1) * 2500);
            }
            const googleCreativeCost = googleServices * 750;
            
            return metaCreativeCost + googleCreativeCost;
        }

        function calculateCosts() {
            const metaServices = parseInt(metaServicesInput.value) || 0;
            const googleServices = parseInt(googleServicesInput.value) || 0;
            const tiktokServices = parseInt(tiktokServicesInput.value) || 0;
            const spotifyServices = parseInt(spotifyServicesInput.value) || 0;
            const youtubeServices = parseInt(youtubeServicesInput.value) || 0;

            const minMonthlySpend = 
                (metaServices * 8000) + 
                (googleServices * 5000) +
                (tiktokServices * 10000) +
                (spotifyServices * 10000) +
                (youtubeServices * 10000);

            minSpendEl.textContent = formatCurrency(minMonthlySpend);
            mediaSpendSlider.min = minMonthlySpend;
            mediaSpendInput.min = minMonthlySpend;

            // Only adjust slider down if its value is below the new minimum
            if (parseFloat(mediaSpendSlider.value) < minMonthlySpend) {
                mediaSpendSlider.value = minMonthlySpend;
                mediaSpendInput.value = minMonthlySpend;
            }

            const totalMonthlyMediaSpend = parseFloat(mediaSpendSlider.value);
            const totalSixMonthMediaSpend = totalMonthlyMediaSpend * 6;
            
            // This is the only total displayed in the top right section now.
            document.getElementById('total-media-spend').textContent = formatCurrency(totalSixMonthMediaSpend);

            // Other totals are still calculated for use below.
            const totalAgencyFee = totalSixMonthMediaSpend * 0.15;
            const creativeProductionCovered = calculateCreativeCosts();
            
            const totalServiceLines = metaServices + googleServices + tiktokServices + spotifyServices + youtubeServices;
            const customizationFees = customizationsCheckbox.checked ? (225 * totalServiceLines) : 0;
            
            // Stronger's Contribution
            // The cap is now correctly applied to the total 6-month spend.
            const strongerMediaSpend = Math.min(totalSixMonthMediaSpend * 0.5, 60000);
            const strongerAgencyFee = Math.min(totalAgencyFee, 37500);
            const totalStrongerContribution = strongerMediaSpend + strongerAgencyFee + creativeProductionCovered;
            
            document.getElementById('stronger-media-spend').textContent = formatCurrency(strongerMediaSpend);
            document.getElementById('stronger-agency-fee').textContent = formatCurrency(strongerAgencyFee);
            document.getElementById('creative-production-covered').textContent = formatCurrency(creativeProductionCovered);
            document.getElementById('total-stronger-contribution').textContent = formatCurrency(totalStrongerContribution);
            
            // Affiliate's Cost
            const affiliateMediaSpend = totalSixMonthMediaSpend - strongerMediaSpend;
            const affiliateAgencyFee = totalAgencyFee - strongerAgencyFee;
            const totalAffiliateCost = affiliateMediaSpend + affiliateAgencyFee + customizationFees;

            document.getElementById('affiliate-media-spend').textContent = formatCurrency(affiliateMediaSpend);
            document.getElementById('affiliate-agency-fee').textContent = formatCurrency(affiliateAgencyFee);
            document.getElementById('customization-fees').textContent = formatCurrency(customizationFees);
            document.getElementById('total-affiliate-cost').textContent = formatCurrency(totalAffiliateCost);

            // Savings
            document.getElementById('total-savings').textContent = formatCurrency(totalStrongerContribution);
        }
        
        // Event Listeners
        inputs.forEach(input => input.addEventListener('input', calculateCosts));

        mediaSpendSlider.addEventListener('input', (e) => {
            mediaSpendInput.value = e.target.value;
        });

        mediaSpendInput.addEventListener('input', (e) => {
             // Ensure value doesn't go below minimum when typed
            const minVal = parseFloat(mediaSpendInput.min);
            if (parseFloat(e.target.value) < minVal) {
                e.target.value = minVal;
            }
            mediaSpendSlider.value = e.target.value;
        });
        
        // Initial Calculation on page load
        document.addEventListener('DOMContentLoaded', calculateCosts);

    </script>
</body>
</html>

